{"version":3,"sources":["component/thongtinquanly.jsx"],"names":["Thongtinquanly","user","enqueueSnackbar","useSnackbar","schema","yup","shape","fullname","required","address","phone","birthday","form","useForm","defaultValues","Id","email","role","resolver","yupResolver","register","handleSubmit","setValue","errors","formState","useEffect","slice","handleOnSubmit","value","a","id","params","password","status","userApi","update","variant","response","data","detail","className","onSubmit","style","opacity","width","name","margin","fullWidth","disabled","color","fontSize","textAlign","type","placeholder","marginTop","marginLeft","fontWeight","background"],"mappings":"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","file":"static/js/20.e69f59ab.chunk.js","sourcesContent":["import { ErrorMessage } from \"@hookform/error-message\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\nimport React, { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport userApi from \"../api/userApi\";\nimport \"./style2.css\";\nimport \"./style3.css\";\n\nfunction Thongtinquanly({ user }) {\n  const { enqueueSnackbar } = useSnackbar();\n  const schema = yup.object().shape({\n    fullname: yup.string().required(\"please enter your fullname\"),\n    address: yup.string().required(\"please enter your address\"),\n    phone: yup.string().required(\"please enter your phone\"),\n    birthday: yup.string().required(\"please enter your birthday\"),\n  });\n  const form = useForm({\n    defaultValues: {\n      Id: \"\",\n      fullname: \"\",\n      email: \"\",\n      address: \"\",\n      phone: \"\",\n      role: \"\",\n    },\n    resolver: yupResolver(schema),\n  });\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n  } = form;\n  useEffect(() => {\n    const setUser = () => {\n      setValue(\"Id\", user.Id);\n      setValue(\"fullname\", user.fullname);\n      setValue(\"email\", user.email);\n      setValue(\"address\", user.address);\n      setValue(\"phone\", user.phone);\n      setValue(\"birthday\", `${user.birthday}`.slice(0, 10));\n      setValue(\"role\", user.role);\n    };\n    setUser();\n  }, [setValue, user]);\n\n  const handleOnSubmit = async (value) => {\n    try {\n      const id = user.Id;\n      const params = {\n        Id: id,\n      };\n      value.password = \"\";\n      value.status = 1;\n      await userApi.update(value, params);\n      enqueueSnackbar(\"Success\", {\n        variant: \"success\",\n      });\n    } catch (error) {\n      enqueueSnackbar(error.response.data.detail, {\n        variant: \"error\",\n      });\n    }\n  };\n\n  return (\n    <div className=\"thongtincanhan\">\n      <form onSubmit={handleSubmit(handleOnSubmit)}>\n        <p className=\"thongtincanhan-title\">Thông tin cá nhân</p>\n        <hr style={{ opacity: \"0.3\", width: \"100%\" }} />\n        <br />\n        {/* id */}\n        <div className=\"thongtincanhan-contents\">\n          <div className=\"thongtincanhan-contents-label\">Mã số :</div>\n          <div className=\"thongtincanhan-contents-input\">\n            <TextField\n              {...register(\"Id\")}\n              name=\"Id\"\n              className=\"outlined-basic\"\n              variant=\"outlined\"\n              required\n              margin=\"dense\"\n              fullWidth\n              disabled\n            />\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\n              <ErrorMessage errors={errors} name=\"id\" />\n            </p>\n          </div>\n        </div>\n        {/* fullname */}\n        <div className=\"thongtincanhan-contents\">\n          <div className=\"thongtincanhan-contents-label\">Họ và tên :</div>\n          <div className=\"thongtincanhan-contents-input\">\n            <TextField\n              {...register(\"fullname\")}\n              name=\"fullname\"\n              className=\"outlined-basic\"\n              variant=\"outlined\"\n              margin=\"dense\"\n              fullWidth\n            />\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\n              <ErrorMessage errors={errors} name=\"fullname\" />\n            </p>\n          </div>\n        </div>\n        {/* email */}\n        <div className=\"thongtincanhan-contents\">\n          <div className=\"thongtincanhan-contents-label\">Email :</div>\n          <div className=\"thongtincanhan-contents-input\">\n            <TextField\n              {...register(\"email\")}\n              name=\"email\"\n              className=\"outlined-basic\"\n              variant=\"outlined\"\n              margin=\"dense\"\n              fullWidth\n              disabled\n            />\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\n              <ErrorMessage errors={errors} name=\"email\" />\n            </p>\n          </div>\n        </div>\n        {/* Ngày sinh */}\n        <div className=\"thongtincanhan-contents\">\n          <div className=\"thongtincanhan-contents-label\">Ngày sinh :</div>\n          <div className=\"thongtincanhan-contents-input\">\n            <TextField\n              {...register(\"birthday\")}\n              name=\"birthday\"\n              className=\"outlined-basic\"\n              variant=\"outlined\"\n              margin=\"dense\"\n              fullWidth\n              type=\"date\"\n            />\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\n              <ErrorMessage errors={errors} name=\"birthday\" />\n            </p>\n          </div>\n        </div>\n        {/* Địa chỉ */}\n        <div className=\"thongtincanhan-contents\">\n          <div className=\"thongtincanhan-contents-label\">Địa chỉ :</div>\n          <div className=\"thongtincanhan-contents-input\">\n            <TextField\n              {...register(\"address\")}\n              name=\"address\"\n              className=\"outlined-basic\"\n              variant=\"outlined\"\n              margin=\"dense\"\n              fullWidth\n            />\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\n              <ErrorMessage errors={errors} name=\"address\" />\n            </p>\n          </div>\n        </div>\n\n        {/* Số điện thoại */}\n        <div className=\"thongtincanhan-contents\">\n          <div className=\"thongtincanhan-contents-label\">Số điện thoại :</div>\n          <div className=\"thongtincanhan-contents-input\">\n            <TextField\n              {...register(\"phone\")}\n              name=\"phone\"\n              className=\"outlined-basic\"\n              variant=\"outlined\"\n              margin=\"dense\"\n              fullWidth\n              placeholder=\"Chưa cập nhật\"\n              type=\"number\"\n            />\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\n              <ErrorMessage errors={errors} name=\"phone\" />\n            </p>\n          </div>\n        </div>\n        {/* Chức vụ */}\n        <div className=\"thongtincanhan-contents\">\n          <div className=\"thongtincanhan-contents-label\">Chức vụ :</div>\n          <div className=\"thongtincanhan-contents-input\">\n            <TextField\n              {...register(\"role\")}\n              name=\"role\"\n              className=\"outlined-basic\"\n              variant=\"outlined\"\n              margin=\"dense\"\n              fullWidth\n              disabled\n            />\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\n              <ErrorMessage errors={errors} name=\"role\" />\n            </p>\n          </div>\n        </div>\n        <div className=\"thongtincanhan-contents\">\n          <Button\n            style={{\n              width: \"250px\",\n              marginTop: \"40px\",\n              marginLeft: \"0px\",\n              fontWeight: \"400\",\n              background: \"rgb(235, 43, 43)\",\n              color: \"white\",\n            }}\n            variant=\"contained\"\n            type=\"submit\"\n          >\n            Cập nhật thông tin\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Thongtinquanly;\n"],"sourceRoot":""}