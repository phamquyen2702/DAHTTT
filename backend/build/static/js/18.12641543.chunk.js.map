{"version":3,"sources":["dummydb/status.js","../node_modules/@mui/icons-material/OfflinePin.js","dummydb/headerClassCsv.js","component/quanlylophoc/dataRender.jsx","component/quanlylophoc/danhsachlophoc.jsx"],"names":["liststatus","value","label","_interopRequireDefault","require","Object","defineProperty","exports","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","headerClass","key","DataRender","datas","match","useRouteMatch","className","style","width","padding","length","map","data","index","classId","subjectId","location","registered","limit","to","url","FormOutlined","color","fontWeight","fontStyle","fontSize","description","image","converOpt","list","opt","i","push","Danhsachlophoc","semesterDk","useState","searchLike","setSearchLike","STATUS_DEFAULT","valueStatus","setValueStatus","valueSubjectId","setValueSubjectId","valueSemester","setValueSemester","subjectIds","setSubjectIds","semesters","setSemesters","enqueueSnackbar","useSnackbar","setDatas","datasExport","setDatasExport","counts","setCounts","page","setPage","LIMIT_PAGE_DEFAULT","setLimit","csvReport","filename","headers","handleExport","a","variant","useEffect","fetchData","params","status","semester","offset","classApi","getFilter","getLikeId","paramsCount","count","handleSubjectId","getAllSubjectId","getAllSemester","list1","fectchData","schema","yup","shape","form","useForm","defaultValues","resolver","yupResolver","register","handleSubmit","handleOnSubmit","countLikeId","Autocomplete","onChange","event","newValue","options","fullWidth","margin","renderInput","TextField","placeholder","name","select","target","option","MenuItem","onSubmit","id","type","marginLeft","marginTop","Button","height","background","onClick","window","reload","display","fallback","Loading","pageSize","total","pageSizeOptions","float","marginRight"],"mappings":"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","file":"static/js/18.12641543.chunk.js","sourcesContent":["export const liststatus = [\r\n  {\r\n    value: 0,\r\n    label: \"Trạng thái đóng\",\r\n  },\r\n  {\r\n    value: 1,\r\n    label: \"Trạng thái mở\",\r\n  },\r\n];\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z\"\n}), 'OfflinePin');\n\nexports.default = _default;","export const headerClass = [\r\n    { label: \"subjectId\", key: \"subjectId\" },\r\n    { label: \"classId\", key: \"classId\" },\r\n    { label: \"day\", key: \"day\" },\r\n    { label: \"timeStart\", key: \"timeStart\" },\r\n    { label: \"timeEnd\", key: \"timeEnd\" },\r\n    { label: \"status\", key: \"status\" },\r\n    { label: \"semester\", key: \"semester\" },\r\n    { label: \"limit\", key: \"limit\" },\r\n    { label: \"registered\", key: \"registered\" },\r\n    { label: \"location\", key: \"location\" },\r\n];","import { FormOutlined } from \"@ant-design/icons\";\r\nimport React from \"react\";\r\nimport \"../style2.css\";\r\nimport { Empty } from \"antd\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nfunction DataRender({ datas }) {\r\n  const match = useRouteMatch();\r\n  return (\r\n    <>\r\n      <div className=\"table-dangki\">\r\n        <table style={{ width: \"100%\", padding: \"10px\" }}>\r\n          {datas.length > 0 && (\r\n            <tr>\r\n              <th>Mã lớp</th>\r\n              <th>Mã học phần</th>\r\n              <th>Phòng học</th>\r\n              <th>Số lượng</th>\r\n              <th>Tối đa</th>\r\n              <th>Chi tiết</th>\r\n            </tr>\r\n          )}\r\n          {datas &&\r\n            datas.map((data, index) => (\r\n              <tr>\r\n                <td>{data.classId}</td>\r\n                <td>{data.subjectId}</td>\r\n                <td>{data.location}</td>\r\n                <td>{data.registered}</td>\r\n                <td>{data.limit}</td>\r\n                <td className=\"chitiet\">\r\n                  <Link to={`${match.url}/${data.classId}`}>\r\n                    <FormOutlined />\r\n                  </Link>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          {datas.length === 0 && (\r\n            <Empty\r\n              style={{\r\n                color: \"red\",\r\n                fontWeight: \"600\",\r\n                fontStyle: \"italic\",\r\n                fontSize: \"13px\",\r\n              }}\r\n              description=\"(Empty)\"\r\n              image=\"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\"\r\n            />\r\n          )}\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DataRender;\r\n","import { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { Button, MenuItem, TextField } from \"@material-ui/core\";\r\nimport OfflinePinIcon from \"@mui/icons-material/OfflinePin\";\r\nimport { Autocomplete } from \"@mui/material\";\r\nimport { Pagination } from \"antd\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { Suspense, useEffect, useState } from \"react\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport * as yup from \"yup\";\r\nimport classApi from \"../../api/classApi\";\r\nimport { LIMIT_PAGE_DEFAULT, STATUS_DEFAULT } from \"../../dummydb/dataDefault\";\r\nimport { headerClass } from \"../../dummydb/headerClassCsv\";\r\nimport { liststatus } from \"../../dummydb/status\";\r\nimport Loading from \"../Loading\";\r\nimport \"../style2.css\";\r\nimport DataRender from \"./dataRender\";\r\nfunction converOpt(list) {\r\n  let opt = [];\r\n  for (let i = 0; i < list.length; i++) {\r\n    opt.push(list[i].value);\r\n  }\r\n  return opt;\r\n}\r\nfunction Danhsachlophoc({semesterDk}) {\r\n  const [searchLike, setSearchLike] = useState(\"\");\r\n  const [valueStatus, setValueStatus] = useState(STATUS_DEFAULT);\r\n  const [valueSubjectId, setValueSubjectId] = useState();\r\n  const [valueSemester, setValueSemester] = useState(semesterDk);\r\n  const [subjectIds, setSubjectIds] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [datas, setDatas] = useState([]);\r\n  const [datasExport, setDatasExport] = useState([]);\r\n  const [counts, setCounts] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(LIMIT_PAGE_DEFAULT);\r\n  const csvReport = {\r\n    filename: \"class.csv\",\r\n    headers: headerClass,\r\n    data: datasExport,\r\n  };\r\n  const handleExport = async () => {\r\n    enqueueSnackbar(\"Success\", {\r\n      variant: \"success\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (searchLike === \"\") {\r\n        try {\r\n          const params = {\r\n            status: valueStatus,\r\n            subjectId: valueSubjectId,\r\n            semester: valueSemester,\r\n            limit: 99999999,\r\n            offset: 0,\r\n          };\r\n          const list = await classApi.getFilter(params);\r\n          setDatasExport(list);\r\n        } catch (error) {\r\n          enqueueSnackbar(\"Error\", {\r\n            variant: \"error\",\r\n          });\r\n        }\r\n      } else {\r\n        const params = {\r\n          limit: 999999,\r\n          offset: 0,\r\n        };\r\n        const list = await classApi.getLikeId(params, searchLike);\r\n        setDatasExport(list);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [enqueueSnackbar, searchLike, valueSemester, valueStatus, valueSubjectId]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (searchLike === \"\") {\r\n        try {\r\n          const paramsCount = {\r\n            status: valueStatus,\r\n            subjectId: valueSubjectId,\r\n            semester: valueSemester,\r\n          };\r\n          const params = {\r\n            status: valueStatus,\r\n            subjectId: valueSubjectId,\r\n            semester: valueSemester,\r\n            limit: limit,\r\n            offset: page === 1 ? 0 : (page - 1) * limit,\r\n          };\r\n          const count = await classApi.count(paramsCount);\r\n          setCounts(count);\r\n          const list = await classApi.getFilter(params);\r\n          setDatas(list);\r\n        } catch (error) {\r\n          enqueueSnackbar(\"Error\", {\r\n            variant: \"error\",\r\n          });\r\n        }\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [\r\n    valueSemester,\r\n    valueStatus,\r\n    valueSubjectId,\r\n    limit,\r\n    page,\r\n    enqueueSnackbar,\r\n    searchLike,\r\n  ]);\r\n  useEffect(() => {\r\n    const handleSubjectId = async () => {\r\n      try {\r\n        const params = {\r\n          status: STATUS_DEFAULT,\r\n        };\r\n        const list = await classApi.getAllSubjectId(params);\r\n        const list1 = await classApi.getAllSemester();\r\n        setSubjectIds(list);\r\n        setSemesters(list1);\r\n      } catch (error) {\r\n        enqueueSnackbar(\"Error\", {\r\n          variant: \"error\",\r\n        });\r\n      }\r\n    };\r\n    handleSubjectId();\r\n  }, [enqueueSnackbar]);\r\n\r\n  //page like\r\n  useEffect(() => {\r\n    const fectchData = async () => {\r\n      if (searchLike !== \"\") {\r\n        const params = {\r\n          limit: limit,\r\n          offset: page === 1 ? 0 : (page - 1) * limit,\r\n        };\r\n        const list = await classApi.getLikeId(params, searchLike);\r\n        setDatas(list);\r\n      }\r\n    };\r\n    fectchData();\r\n  }, [valueSemester, valueStatus, valueSubjectId, limit, page, searchLike]);\r\n  const handleChangeStatus = (event) => {\r\n    setValueStatus(event.target.value);\r\n  };\r\n  const handleChangeSubjectId = (event, newValue) => {\r\n    setValueSubjectId(newValue);\r\n  };\r\n  const handleChangeSemester = (event) => {\r\n    setValueSemester(event.target.value);\r\n  };\r\n  const handleChangePageAndPageSize = (page, limit) => {\r\n    setPage(page);\r\n    setLimit(limit);\r\n  };\r\n  const schema = yup.object().shape({});\r\n  const form = useForm({\r\n    defaultValues: {\r\n      classId: \"\",\r\n    },\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const { register, handleSubmit } = form;\r\n  const handleOnSubmit = async (value) => {\r\n    const params = {\r\n      limit: limit,\r\n      offset: page === 1 ? 0 : (page - 1) * limit,\r\n    };\r\n\r\n    const count = await classApi.countLikeId(value.classId);\r\n    setCounts(count);\r\n    const list = await classApi.getLikeId(params, value.classId);\r\n    setDatas(list);\r\n    setSearchLike(value.classId);\r\n    setPage(1);\r\n  };\r\n  const handleResetSearch = () => {\r\n    setSearchLike(\"\");\r\n    window.location.reload();\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"quanlysinhvien-content\">\r\n        <div>\r\n          <div className=\"filter-school\">\r\n            <div className=\"filter-school-classs\">\r\n              <Autocomplete\r\n                value={valueSubjectId}\r\n                onChange={handleChangeSubjectId}\r\n                options={converOpt(subjectIds)}\r\n                fullWidth\r\n                margin=\"dense\"\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    variant=\"standard\"\r\n                    placeholder=\"Chọn mã học phần\"\r\n                  />\r\n                )}\r\n              />\r\n            </div>\r\n            <div className=\"filter-school-class\">\r\n              <TextField\r\n                name=\"status\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                select\r\n                value={valueSemester}\r\n                onChange={handleChangeSemester}\r\n              >\r\n                {semesters.map((option) => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </div>\r\n            <div className=\"filter-school-class\">\r\n              <TextField\r\n                name=\"status\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                select\r\n                value={valueStatus}\r\n                onChange={handleChangeStatus}\r\n              >\r\n                {liststatus.map((option) => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </div>\r\n            <div className=\"filter-school-right3\">\r\n              <form onSubmit={handleSubmit(handleOnSubmit)}>\r\n                <TextField\r\n                  {...register(\"classId\")}\r\n                  id=\"outlined-input\"\r\n                  placeholder=\"Tìm kiếm theo mã lớp học\"\r\n                  type=\"text\"\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  style={{\r\n                    width: \"180px\",\r\n                    marginLeft: \"98px\",\r\n                    marginTop: \"12px\",\r\n                  }}\r\n                />\r\n                {searchLike !== \"\" && (\r\n                  <Button\r\n                    style={{\r\n                      width: \"120px\",\r\n                      height: \"39px\",\r\n                      marginTop: \"12px\",\r\n                      marginLeft: \"20px\",\r\n                      fontWeight: \"400\",\r\n                      background: \"rgb(235, 43, 43)\",\r\n                      color: \"white\",\r\n                    }}\r\n                    variant=\"contained\"\r\n                    onClick={handleResetSearch}\r\n                  >\r\n                    Reset\r\n                  </Button>\r\n                )}\r\n\r\n                {searchLike === \"\" && (\r\n                  <Button\r\n                    style={{\r\n                      width: \"120px\",\r\n                      height: \"39px\",\r\n                      marginTop: \"12px\",\r\n                      marginLeft: \"20px\",\r\n                      fontWeight: \"400\",\r\n                      background: \"rgb(235, 43, 43)\",\r\n                      color: \"white\",\r\n                    }}\r\n                    variant=\"contained\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Tìm kiếm\r\n                  </Button>\r\n                )}\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        {searchLike === \"\" && counts !== 0 && (\r\n          <div style={{ display: \"flex\", margin: \"12px\", color: \"blue\" }}>\r\n            <div>\r\n              <OfflinePinIcon />\r\n            </div>\r\n            <div>Tìm thấy {counts} kết quả chính xác</div>\r\n          </div>\r\n        )}\r\n        {searchLike !== \"\" && counts !== 0 && (\r\n          <div style={{ display: \"flex\", margin: \"12px\", color: \"blue\" }}>\r\n            <div>\r\n              <OfflinePinIcon />\r\n            </div>\r\n            <div>Tìm thấy {counts} kết quả gần đúng</div>\r\n          </div>\r\n        )}\r\n        <Suspense fallback={<Loading />}>\r\n          <DataRender datas={datas} />\r\n        </Suspense>\r\n\r\n        <br />\r\n        <br />\r\n        <br />\r\n        {datas.length > 0 && (\r\n          <Pagination\r\n            pageSize={limit}\r\n            total={counts}\r\n            page={page}\r\n            onChange={handleChangePageAndPageSize}\r\n            pageSizeOptions={[5, 10, 15, 20]}\r\n            style={{ float: \"right\", marginRight: \"15px\" }}\r\n          />\r\n        )}\r\n      </div>\r\n      {datas.length > 0 && (\r\n        <CSVLink {...csvReport}>\r\n          <Button\r\n            style={{\r\n              width: \"200px\",\r\n              marginLeft: \"10px\",\r\n              fontWeight: \"400\",\r\n              background: \"rgb(235, 43, 43)\",\r\n              color: \"white\",\r\n            }}\r\n            variant=\"contained\"\r\n            onClick={handleExport}\r\n          >\r\n            Export file excel\r\n          </Button>\r\n        </CSVLink>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Danhsachlophoc;\r\n"],"sourceRoot":""}