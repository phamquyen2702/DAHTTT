{"version":3,"sources":["component/quanlylophoc/chitietlophoc.jsx"],"names":["Chitietlophoc","semesterDk","classId","useParams","useState","classOne","setClassOne","subjectIds","setSubjectIds","semesters","setSemesters","valueSubjectId","setValueSubjectId","valueSemester","setValueSemester","enqueueSnackbar","useSnackbar","schema","yup","shape","subjectId","required","min","day","timeStart","timeEnd","semester","limit","location","form","useForm","defaultValues","status","STATUS_DEFAULT","resolver","yupResolver","register","handleSubmit","setValue","errors","formState","useEffect","setClasss","a","registered","fetchSubject","classApi","get","list","handleOnSubmit","value","params","update","variant","handleSubjectId","getAllSubjectId","getAllSemester","list1","handleBlock","lock","window","reload","handleUnBlock","unlock","className","onSubmit","style","opacity","width","name","margin","fullWidth","select","onChange","event","target","map","option","label","color","fontSize","textAlign","newValue","options","renderInput","placeholder","type","disabled","marginTop","marginLeft","fontWeight","background","float","marginRight","onClick","Chitietlopdangki","datas","setDatas","datasExport","setDatasExport","counts","setCounts","page","setPage","setLimit","csvReport","filename","headers","headerStudent","data","fetchData","offset","getAllStudenByClassId","paramsCount","countAllStudenByClassId","count","length","padding","index","Id","fullname","schoolId","pageSize","total","pageSizeOptions","fontStyle","description","image"],"mappings":"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","file":"static/js/24.f6d6477a.chunk.js","sourcesContent":["import { ErrorMessage } from \"@hookform/error-message\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { Button, MenuItem, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@mui/material/Autocomplete\";\r\nimport { Empty, Pagination } from \"antd\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport * as yup from \"yup\";\r\nimport classApi from \"../../api/classApi\";\r\nimport { STATUS_DEFAULT } from \"../../dummydb/dataDefault\";\r\nimport { headerStudent } from \"../../dummydb/headerListStudentcsv\";\r\nimport \"../style2.css\";\r\nimport \"../style3.css\";\r\n\r\nfunction Chitietlophoc({ semesterDk }) {\r\n  const { classId } = useParams();\r\n  const [classOne, setClassOne] = useState(\"\");\r\n  const [subjectIds, setSubjectIds] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n\r\n  const [valueSubjectId, setValueSubjectId] = useState(\"\");\r\n  const [valueSemester, setValueSemester] = useState(20201);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const schema = yup.object().shape({\r\n    subjectId: yup.string().required(\"please enter your subjectId\"),\r\n    classId: yup.number().min(1, \"Please enter at least 1 \"),\r\n    day: yup.number().min(1, \"Please enter at least 1 \"),\r\n    timeStart: yup.number().min(1, \"Please enter at least 1 \"),\r\n    timeEnd: yup.number().min(1, \"Please enter at least 1 \"),\r\n    semester: yup.number().min(1, \"Please enter at least 1 \"),\r\n    limit: yup.number().min(1, \"Please enter at least 1 \"),\r\n    location: yup.string().required(\"please enter your location\"),\r\n  });\r\n  const form = useForm({\r\n    defaultValues: {\r\n      subjectId: \"\",\r\n      classId: 0,\r\n      day: 2,\r\n      timeStart: 0,\r\n      timeEnd: 0,\r\n      status: STATUS_DEFAULT,\r\n      semester: 20201,\r\n      location: \"\",\r\n      limit: 200,\r\n    },\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors },\r\n  } = form;\r\n  useEffect(() => {\r\n    const setClasss = async () => {\r\n      setValue(\"subjectId\", classOne.subjectId);\r\n      setValueSubjectId(classOne.subjectId);\r\n      setValue(\"classId\", classOne.classId);\r\n      setValue(\"day\", classOne.day);\r\n      setValue(\"timeStart\", classOne.timeStart);\r\n      setValue(\"timeEnd\", classOne.timeEnd);\r\n      setValue(\"semester\", classOne.semester);\r\n      setValueSemester(classOne.semester);\r\n      setValue(\"location\", classOne.location);\r\n      setValue(\"limit\", classOne.limit);\r\n      setValue(\"registered\", classOne.registered);\r\n    };\r\n    setClasss();\r\n  }, [setValue, classOne]);\r\n\r\n  useEffect(() => {\r\n    const fetchSubject = async () => {\r\n      const list = await classApi.get(classId);\r\n      setClassOne(list[0]);\r\n    };\r\n    fetchSubject();\r\n  }, [classId]);\r\n  const handleOnSubmit = async (value) => {\r\n    try {\r\n      const params = {\r\n        classId: classId,\r\n      };\r\n      await classApi.update(value, params);\r\n      enqueueSnackbar(\"Success\", {\r\n        variant: \"success\",\r\n      });\r\n    } catch (error) {\r\n      enqueueSnackbar(\"Error\", {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const handleSubjectId = async () => {\r\n      try {\r\n        const params = {\r\n          status: 1,\r\n        };\r\n        const list = await classApi.getAllSubjectId(params);\r\n        const list1 = await classApi.getAllSemester();\r\n        setSubjectIds(list);\r\n        setSemesters(list1);\r\n      } catch (error) {\r\n        enqueueSnackbar(\"Error\", {\r\n          variant: \"error\",\r\n        });\r\n      }\r\n    };\r\n    handleSubjectId();\r\n  }, [enqueueSnackbar]);\r\n  const handleBlock = async () => {\r\n    try {\r\n      await classApi.lock(classId);\r\n      window.location.reload();\r\n      enqueueSnackbar(\"Success\", {\r\n        variant: \"success\",\r\n      });\r\n    } catch (error) {\r\n      enqueueSnackbar(\"Error\", {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n  const handleUnBlock = async () => {\r\n    try {\r\n      await classApi.unlock(classId);\r\n      window.location.reload();\r\n      enqueueSnackbar(\"Success\", {\r\n        variant: \"success\",\r\n      });\r\n    } catch (error) {\r\n      enqueueSnackbar(\"Error\", {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n  const handleChangeSubjectId = (event, newValue) => {\r\n    setValueSubjectId(newValue);\r\n  };\r\n  const handleChangeSemester = (event) => {\r\n    setValueSemester(event.target.value);\r\n  };\r\n  return (\r\n    <div className=\"thongtincanhan\">\r\n      <p className=\"thongtincanhan-title\">1. Thông tin lớp học</p>\r\n      <div className=\"quanlysinhvien-content\">\r\n        <form onSubmit={handleSubmit(handleOnSubmit)}>\r\n          <hr style={{ opacity: \"0.3\", width: \"100%\" }} />\r\n          <br />\r\n          {/* Kì học */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Kì học :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"semester\")}\r\n                name=\"semester\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                select\r\n                value={valueSemester}\r\n                onChange={handleChangeSemester}\r\n              >\r\n                {semesters.map((option) => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"semester\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* subjectId */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Mã học phần :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <Autocomplete\r\n                value={valueSubjectId}\r\n                onChange={handleChangeSubjectId}\r\n                options={subjectIds}\r\n                variant=\"standart\"\r\n                fullWidth\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    {...register(\"subjectId\")}\r\n                    variant=\"outlined\"\r\n                    placeholder=\"Chưa cập nhật\"\r\n                  />\r\n                )}\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"subjectId\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* Mã lớp học */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Mã lớp học :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"classId\")}\r\n                name=\"classId\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                type=\"number\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"classId\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* Ngày*/}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Thứ :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"day\")}\r\n                name=\"day\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n                type=\"number\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"day\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bắt đầu */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Tiết bắt đầu :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"timeStart\")}\r\n                name=\"timeStart\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n                type=\"number\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"timeStart\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* Kết thúc */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Tiết kết thúc :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"timeEnd\")}\r\n                name=\"timeEnd\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n                type=\"number\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"timeEnd\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* Giới hạn */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">\r\n              Số lượng tối đa :\r\n            </div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"limit\")}\r\n                name=\"limit\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n                type=\"number\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"limit\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/*registered */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">\r\n              Số lượng đã đăng kí :\r\n            </div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"registered\")}\r\n                name=\"registered\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n                type=\"number\"\r\n                disabled\r\n              />\r\n              <p\r\n                style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}\r\n              ></p>\r\n            </div>\r\n          </div>\r\n          {/*location  */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Phòng học :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"location\")}\r\n                name=\"location\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"location\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <div className=\"thongtincanhan-contents\">\r\n            <Button\r\n              style={{\r\n                width: \"250px\",\r\n                marginTop: \"40px\",\r\n                marginLeft: \"0px\",\r\n                fontWeight: \"400\",\r\n                background: \"rgb(235, 43, 43)\",\r\n                color: \"white\",\r\n              }}\r\n              variant=\"contained\"\r\n              type=\"submit\"\r\n            >\r\n              Cập nhật học phần\r\n            </Button>\r\n          </div>\r\n        </form>\r\n        {classOne.status === 1 && (\r\n          <Button\r\n            style={{\r\n              width: \"250px\",\r\n              float: \"right\",\r\n              marginTop: \"-35px\",\r\n              marginRight: \"12px\",\r\n              fontWeight: \"400\",\r\n              background: \"rgb(235, 43, 43)\",\r\n              color: \"white\",\r\n            }}\r\n            variant=\"contained\"\r\n            onClick={handleBlock}\r\n          >\r\n            Khóa lớp học\r\n          </Button>\r\n        )}\r\n        {classOne.status === 0 && (\r\n          <Button\r\n            style={{\r\n              width: \"250px\",\r\n              float: \"right\",\r\n              marginTop: \"-35px\",\r\n              marginRight: \"12px\",\r\n              fontWeight: \"400\",\r\n              background: \"rgb(235, 43, 43)\",\r\n              color: \"white\",\r\n            }}\r\n            variant=\"contained\"\r\n            onClick={handleUnBlock}\r\n          >\r\n            Mở khóa lớp học\r\n          </Button>\r\n        )}\r\n      </div>\r\n      <br />\r\n      <p className=\"thongtincanhan-title\">2. Danh sách sinh viên đăng kí</p>\r\n      <hr style={{ opacity: \"0.3\", width: \"100%\" }} />\r\n      <br />\r\n      <Chitietlopdangki semesterDk={semesterDk} classId={classId} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chitietlophoc;\r\n\r\nexport const Chitietlopdangki = ({ semesterDk, classId }) => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [datas, setDatas] = useState([]);\r\n  const [datasExport, setDatasExport] = useState([]);\r\n  const [counts, setCounts] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(20);\r\n  const csvReport = {\r\n    filename: \"list_student.csv\",\r\n    headers: headerStudent,\r\n    data: datasExport,\r\n  };\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const params = {\r\n          classId: classId,\r\n          semester: semesterDk,\r\n          limit: 99999,\r\n          offset: 0,\r\n        };\r\n        const list = await classApi.getAllStudenByClassId(params);\r\n        setDatasExport(list);\r\n      } catch (error) {}\r\n    };\r\n    fetchData();\r\n  }, [limit, page, enqueueSnackbar, classId, semesterDk]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const paramsCount = {\r\n          classId: classId,\r\n          semester: semesterDk,\r\n        };\r\n        const params = {\r\n          classId: classId,\r\n          semester: semesterDk,\r\n          limit: limit,\r\n          offset: page === 1 ? 0 : (page - 1) * limit,\r\n        };\r\n        const count = await classApi.countAllStudenByClassId(paramsCount);\r\n        setCounts(count);\r\n        const list = await classApi.getAllStudenByClassId(params);\r\n        setDatas(list);\r\n      } catch (error) {}\r\n    };\r\n    fetchData();\r\n  }, [limit, page, enqueueSnackbar, classId, semesterDk]);\r\n  const handleChangePageAndPageSize = (page, limit) => {\r\n    setPage(page);\r\n    setLimit(limit);\r\n  };\r\n  return (\r\n    <div className=\"thongtindangkisv-bottom\">\r\n      {datas.length !== 0 && (\r\n        <div className=\"table-dangki\">\r\n          <table style={{ width: \"100%\", padding: \"10px\" }}>\r\n            <tr>\r\n              <th>STT</th>\r\n              <th>Mã sinh viên</th>\r\n              <th>Họ và tên</th>\r\n              <th>Khoa viện</th>\r\n            </tr>\r\n            {datas.map((data, index) => (\r\n              <tr key={index}>\r\n                <td>{index}</td>\r\n                <td>{data.Id}</td>\r\n                <td>{data.fullname}</td>\r\n                <td>{data.schoolId}</td>\r\n              </tr>\r\n            ))}\r\n          </table>\r\n          <CSVLink {...csvReport}>\r\n            <Button\r\n              style={{\r\n                width: \"200px\",\r\n                marginTop: \"35px\",\r\n                fontWeight: \"400\",\r\n                background: \"rgb(235, 43, 43)\",\r\n                color: \"white\",\r\n              }}\r\n              variant=\"contained\"\r\n            >\r\n              Export file excel\r\n            </Button>\r\n          </CSVLink>\r\n          <Pagination\r\n            pageSize={limit}\r\n            total={counts}\r\n            page={page}\r\n            onChange={handleChangePageAndPageSize}\r\n            pageSizeOptions={[10, 20, 30, 40, 50]}\r\n            style={{ float: \"right\", marginTop: \"40px\" }}\r\n          />\r\n        </div>\r\n      )}\r\n      {datas.length === 0 && (\r\n        <Empty\r\n          style={{\r\n            color: \"red\",\r\n            fontWeight: \"600\",\r\n            fontStyle: \"italic\",\r\n            fontSize: \"13px\",\r\n          }}\r\n          description=\"(Empty)\"\r\n          image=\"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"sourceRoot":""}