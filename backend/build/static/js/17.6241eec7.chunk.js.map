{"version":3,"sources":["dummydb/status.js","../node_modules/@mui/icons-material/OfflinePin.js","../node_modules/@ant-design/icons-svg/es/asn/FormOutlined.js","../node_modules/@ant-design/icons/es/icons/FormOutlined.js","dummydb/headerClassCsv.js","component/quanlylophoc/dataRender.jsx","component/quanlylophoc/danhsachlophoc.jsx"],"names":["liststatus","value","label","_interopRequireDefault","require","Object","defineProperty","exports","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","FormOutlined","props","ref","React","AntdIcon","_objectSpread","icon","FormOutlinedSvg","displayName","headerClass","key","DataRender","datas","match","useRouteMatch","className","style","width","padding","length","map","data","index","classId","subjectId","location","registered","limit","to","url","color","fontWeight","fontStyle","fontSize","description","image","converOpt","list","opt","i","push","Danhsachlophoc","semesterDk","useState","searchLike","setSearchLike","STATUS_DEFAULT","valueStatus","setValueStatus","valueSubjectId","setValueSubjectId","valueSemester","setValueSemester","subjectIds","setSubjectIds","semesters","setSemesters","enqueueSnackbar","useSnackbar","setDatas","datasExport","setDatasExport","counts","setCounts","page","setPage","LIMIT_PAGE_DEFAULT","setLimit","csvReport","filename","headers","handleExport","a","variant","useEffect","fetchData","params","status","semester","offset","classApi","getFilter","response","detail","getLikeId","paramsCount","count","handleSubjectId","getAllSubjectId","getAllSemester","list1","fectchData","schema","yup","shape","form","useForm","defaultValues","resolver","yupResolver","register","handleSubmit","handleOnSubmit","countLikeId","Autocomplete","onChange","event","newValue","options","fullWidth","margin","renderInput","TextField","placeholder","name","select","target","option","MenuItem","onSubmit","id","type","marginLeft","marginTop","Button","height","background","onClick","window","reload","display","fallback","Loading","pageSize","total","pageSizeOptions","float","marginRight"],"mappings":"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","file":"static/js/17.6241eec7.chunk.js","sourcesContent":["export const liststatus = [\r\n  {\r\n    value: 0,\r\n    label: \"Trạng thái đóng\",\r\n  },\r\n  {\r\n    value: 1,\r\n    label: \"Trạng thái mở\",\r\n  },\r\n  {\r\n    value: 3,\r\n    label: \"Tất cả\",\r\n  },\r\n];\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z\"\n}), 'OfflinePin');\n\nexports.default = _default;","// This icon file is generated automatically.\nvar FormOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z\" } }] }, \"name\": \"form\", \"theme\": \"outlined\" };\nexport default FormOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport FormOutlinedSvg from \"@ant-design/icons-svg/es/asn/FormOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar FormOutlined = function FormOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: FormOutlinedSvg\n  }));\n};\n\nFormOutlined.displayName = 'FormOutlined';\nexport default /*#__PURE__*/React.forwardRef(FormOutlined);","export const headerClass = [\r\n    { label: \"subjectId\", key: \"subjectId\" },\r\n    { label: \"classId\", key: \"classId\" },\r\n    { label: \"day\", key: \"day\" },\r\n    { label: \"timeStart\", key: \"timeStart\" },\r\n    { label: \"timeEnd\", key: \"timeEnd\" },\r\n    { label: \"status\", key: \"status\" },\r\n    { label: \"semester\", key: \"semester\" },\r\n    { label: \"limit\", key: \"limit\" },\r\n    { label: \"registered\", key: \"registered\" },\r\n    { label: \"location\", key: \"location\" },\r\n];","import { FormOutlined } from \"@ant-design/icons\";\r\nimport React from \"react\";\r\nimport \"../style2.css\";\r\nimport { Empty } from \"antd\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nfunction DataRender({ datas }) {\r\n  const match = useRouteMatch();\r\n  return (\r\n    <>\r\n      <div className=\"table-dangki\">\r\n        <table style={{ width: \"100%\", padding: \"10px\" }}>\r\n          {datas.length > 0 && (\r\n            <tr>\r\n              <th>Mã lớp</th>\r\n              <th>Mã học phần</th>\r\n              <th>Phòng học</th>\r\n              <th>Số lượng</th>\r\n              <th>Tối đa</th>\r\n              <th>Chi tiết</th>\r\n            </tr>\r\n          )}\r\n          {datas &&\r\n            datas.map((data, index) => (\r\n              <tr>\r\n                <td>{data.classId}</td>\r\n                <td>{data.subjectId}</td>\r\n                <td>{data.location}</td>\r\n                <td>{data.registered}</td>\r\n                <td>{data.limit}</td>\r\n                <td className=\"chitiet\">\r\n                  <Link to={`${match.url}/${data.classId}`}>\r\n                    <FormOutlined />\r\n                  </Link>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          {datas.length === 0 && (\r\n            <Empty\r\n              style={{\r\n                color: \"red\",\r\n                fontWeight: \"600\",\r\n                fontStyle: \"italic\",\r\n                fontSize: \"13px\",\r\n              }}\r\n              description=\"(Empty)\"\r\n              image=\"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\"\r\n            />\r\n          )}\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DataRender;\r\n","import { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { Button, MenuItem, TextField } from \"@material-ui/core\";\r\nimport OfflinePinIcon from \"@mui/icons-material/OfflinePin\";\r\nimport { Autocomplete } from \"@mui/material\";\r\nimport { Pagination } from \"antd\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { Suspense, useEffect, useState } from \"react\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport * as yup from \"yup\";\r\nimport classApi from \"../../api/classApi\";\r\nimport { LIMIT_PAGE_DEFAULT, STATUS_DEFAULT } from \"../../dummydb/dataDefault\";\r\nimport { headerClass } from \"../../dummydb/headerClassCsv\";\r\nimport { liststatus } from \"../../dummydb/status\";\r\nimport Loading from \"../Loading\";\r\nimport \"../style2.css\";\r\nimport DataRender from \"./dataRender\";\r\nfunction converOpt(list) {\r\n  let opt = [];\r\n  for (let i = 0; i < list.length; i++) {\r\n    opt.push(list[i].value);\r\n  }\r\n  return opt;\r\n}\r\nfunction Danhsachlophoc({ semesterDk }) {\r\n  const [searchLike, setSearchLike] = useState(\"\");\r\n  const [valueStatus, setValueStatus] = useState(STATUS_DEFAULT);\r\n  const [valueSubjectId, setValueSubjectId] = useState();\r\n  const [valueSemester, setValueSemester] = useState(semesterDk);\r\n  const [subjectIds, setSubjectIds] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [datas, setDatas] = useState([]);\r\n  const [datasExport, setDatasExport] = useState([]);\r\n  const [counts, setCounts] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(LIMIT_PAGE_DEFAULT);\r\n  const csvReport = {\r\n    filename: \"class.csv\",\r\n    headers: headerClass,\r\n    data: datasExport,\r\n  };\r\n  const handleExport = async () => {\r\n    enqueueSnackbar(\"Success\", {\r\n      variant: \"success\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (searchLike === \"\") {\r\n        try {\r\n          const params = {\r\n            status: valueStatus,\r\n            subjectId: valueSubjectId,\r\n            semester: valueSemester,\r\n            limit: 99999999,\r\n            offset: 0,\r\n          };\r\n          const list = await classApi.getFilter(params);\r\n          setDatasExport(list);\r\n        } catch (error) {\r\n          enqueueSnackbar(error.response.data.detail, {\r\n            variant: \"error\",\r\n          });\r\n        }\r\n      } else {\r\n        const params = {\r\n          limit: 999999,\r\n          offset: 0,\r\n        };\r\n        const list = await classApi.getLikeId(params, searchLike);\r\n        setDatasExport(list);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [enqueueSnackbar, searchLike, valueSemester, valueStatus, valueSubjectId]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (searchLike === \"\") {\r\n        try {\r\n          const paramsCount = {\r\n            status: valueStatus,\r\n            subjectId: valueSubjectId,\r\n            semester: valueSemester,\r\n          };\r\n          const params = {\r\n            status: valueStatus,\r\n            subjectId: valueSubjectId,\r\n            semester: valueSemester,\r\n            limit: limit,\r\n            offset: page === 1 ? 0 : (page - 1) * limit,\r\n          };\r\n          const count = await classApi.count(paramsCount);\r\n          setCounts(count);\r\n          const list = await classApi.getFilter(params);\r\n          setDatas(list);\r\n        } catch (error) {\r\n          enqueueSnackbar(error.response.data.detail, {\r\n            variant: \"error\",\r\n          });\r\n        }\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [\r\n    valueSemester,\r\n    valueStatus,\r\n    valueSubjectId,\r\n    limit,\r\n    page,\r\n    enqueueSnackbar,\r\n    searchLike,\r\n  ]);\r\n  useEffect(() => {\r\n    const handleSubjectId = async () => {\r\n      try {\r\n        const params = {\r\n          status: STATUS_DEFAULT,\r\n        };\r\n        const list = await classApi.getAllSubjectId(params);\r\n        const list1 = await classApi.getAllSemester();\r\n        setSubjectIds(list);\r\n        setSemesters(list1);\r\n      } catch (error) {\r\n        enqueueSnackbar(error.response.data.detail, {\r\n          variant: \"error\",\r\n        });\r\n      }\r\n    };\r\n    handleSubjectId();\r\n  }, [enqueueSnackbar]);\r\n\r\n  //page like\r\n  useEffect(() => {\r\n    const fectchData = async () => {\r\n      if (searchLike !== \"\") {\r\n        const params = {\r\n          limit: limit,\r\n          offset: page === 1 ? 0 : (page - 1) * limit,\r\n        };\r\n        const list = await classApi.getLikeId(params, searchLike);\r\n        setDatas(list);\r\n      }\r\n    };\r\n    fectchData();\r\n  }, [valueSemester, valueStatus, valueSubjectId, limit, page, searchLike]);\r\n  const handleChangeStatus = (event) => {\r\n    setValueStatus(event.target.value);\r\n  };\r\n  const handleChangeSubjectId = (event, newValue) => {\r\n    setValueSubjectId(newValue);\r\n  };\r\n  const handleChangeSemester = (event) => {\r\n    setValueSemester(event.target.value);\r\n  };\r\n  const handleChangePageAndPageSize = (page, limit) => {\r\n    setPage(page);\r\n    setLimit(limit);\r\n  };\r\n  const schema = yup.object().shape({});\r\n  const form = useForm({\r\n    defaultValues: {\r\n      classId: \"\",\r\n    },\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const { register, handleSubmit } = form;\r\n  const handleOnSubmit = async (value) => {\r\n    if (value.classId !== \"\") {\r\n      const params = {\r\n        limit: limit,\r\n        offset: page === 1 ? 0 : (page - 1) * limit,\r\n      };\r\n\r\n      const count = await classApi.countLikeId(value.classId);\r\n      setCounts(count);\r\n      const list = await classApi.getLikeId(params, value.classId);\r\n      setDatas(list);\r\n      setSearchLike(value.classId);\r\n      setPage(1);\r\n    }\r\n  };\r\n  const handleResetSearch = () => {\r\n    setSearchLike(\"\");\r\n    window.location.reload();\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"quanlysinhvien-content\">\r\n        <div>\r\n          <div className=\"filter-school\">\r\n            <div className=\"filter-school-classs\">\r\n              <Autocomplete\r\n                value={valueSubjectId}\r\n                onChange={handleChangeSubjectId}\r\n                options={converOpt(subjectIds)}\r\n                fullWidth\r\n                margin=\"dense\"\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    variant=\"standard\"\r\n                    placeholder=\"Chọn mã học phần\"\r\n                  />\r\n                )}\r\n              />\r\n            </div>\r\n            <div className=\"filter-school-class\">\r\n              <TextField\r\n                name=\"status\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                select\r\n                value={valueSemester}\r\n                onChange={handleChangeSemester}\r\n              >\r\n                {semesters.map((option) => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </div>\r\n            <div className=\"filter-school-class\">\r\n              <TextField\r\n                name=\"status\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                select\r\n                value={valueStatus}\r\n                onChange={handleChangeStatus}\r\n              >\r\n                {liststatus.map((option) => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </div>\r\n            <div className=\"filter-school-right3\">\r\n              <form onSubmit={handleSubmit(handleOnSubmit)}>\r\n                <TextField\r\n                  {...register(\"classId\")}\r\n                  id=\"outlined-input\"\r\n                  placeholder=\"Tìm kiếm theo mã lớp học\"\r\n                  type=\"text\"\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  style={{\r\n                    width: \"180px\",\r\n                    marginLeft: \"98px\",\r\n                    marginTop: \"12px\",\r\n                  }}\r\n                />\r\n                {searchLike !== \"\" && (\r\n                  <Button\r\n                    style={{\r\n                      width: \"120px\",\r\n                      height: \"39px\",\r\n                      marginTop: \"12px\",\r\n                      marginLeft: \"20px\",\r\n                      fontWeight: \"400\",\r\n                      background: \"rgb(235, 43, 43)\",\r\n                      color: \"white\",\r\n                    }}\r\n                    variant=\"contained\"\r\n                    onClick={handleResetSearch}\r\n                  >\r\n                    Reset\r\n                  </Button>\r\n                )}\r\n\r\n                {searchLike === \"\" && (\r\n                  <Button\r\n                    style={{\r\n                      width: \"120px\",\r\n                      height: \"39px\",\r\n                      marginTop: \"12px\",\r\n                      marginLeft: \"20px\",\r\n                      fontWeight: \"400\",\r\n                      background: \"rgb(235, 43, 43)\",\r\n                      color: \"white\",\r\n                    }}\r\n                    variant=\"contained\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Tìm kiếm\r\n                  </Button>\r\n                )}\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        {searchLike === \"\" && counts !== 0 && (\r\n          <div style={{ display: \"flex\", margin: \"12px\", color: \"blue\" }}>\r\n            <div>\r\n              <OfflinePinIcon />\r\n            </div>\r\n            <div>Tìm thấy {counts} kết quả chính xác</div>\r\n          </div>\r\n        )}\r\n        {searchLike !== \"\" && counts !== 0 && (\r\n          <div style={{ display: \"flex\", margin: \"12px\", color: \"blue\" }}>\r\n            <div>\r\n              <OfflinePinIcon />\r\n            </div>\r\n            <div>Tìm thấy {counts} kết quả gần đúng</div>\r\n          </div>\r\n        )}\r\n        <Suspense fallback={<Loading />}>\r\n          <DataRender datas={datas} />\r\n        </Suspense>\r\n\r\n        <br />\r\n        <br />\r\n        <br />\r\n        {datas.length > 0 && (\r\n          <Pagination\r\n            pageSize={limit}\r\n            total={counts}\r\n            page={page}\r\n            onChange={handleChangePageAndPageSize}\r\n            pageSizeOptions={[5, 10, 15, 20]}\r\n            style={{ float: \"right\", marginRight: \"15px\" }}\r\n          />\r\n        )}\r\n      </div>\r\n      {datas.length > 0 && (\r\n        <CSVLink {...csvReport}>\r\n          <Button\r\n            style={{\r\n              width: \"200px\",\r\n              marginLeft: \"10px\",\r\n              fontWeight: \"400\",\r\n              background: \"rgb(235, 43, 43)\",\r\n              color: \"white\",\r\n            }}\r\n            variant=\"contained\"\r\n            onClick={handleExport}\r\n          >\r\n            Export file excel\r\n          </Button>\r\n        </CSVLink>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Danhsachlophoc;\r\n"],"sourceRoot":""}