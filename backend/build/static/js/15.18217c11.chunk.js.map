{"version":3,"sources":["dummydb/khoavien.jsx","dummydb/schoolyear.js","../node_modules/@mui/icons-material/OfflinePin.js","dummydb/headerAccountCsv.js","component/quanlytaikhoan/danhsachtaikhoan.jsx"],"names":["listkhoavien","value","label","schoolyears","_interopRequireDefault","require","Object","defineProperty","exports","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","headerAccount","key","Danhsachtaikhoan","props","useState","searchLike","setSearchLike","SCHOOLYEAR_DEFAULT","valueSchoolyear","setValueSchoolyear","SCHOOL_ID_DEFAULT","valueSchoolId","setValueSchoolId","enqueueSnackbar","useSnackbar","datas","setDatas","datasExport","setDatasExport","counts","setCounts","page","setPage","LIMIT_PAGE_DEFAULT","limit","setLimit","match","useRouteMatch","csvReport","filename","headers","data","handleExport","a","variant","useEffect","fetchData","params","schoolyear","schoolId","role","ROLE_DEFAULT","offset","userApi","getFilter","list","accounts","Id","getLikeId","paramsCount","count","fectchData","schema","yup","shape","form","useForm","defaultValues","resolver","yupResolver","register","handleSubmit","handleOnSubmit","countLikeId","className","name","margin","fullWidth","select","onChange","event","target","map","option","onSubmit","autoFocus","id","type","style","width","marginLeft","marginTop","fontWeight","background","color","onClick","window","location","reload","display","padding","length","index","fullname","email","status","to","url","fontStyle","fontSize","description","image","pageSize","total","pageSizeOptions","float","marginRight"],"mappings":"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","file":"static/js/15.18217c11.chunk.js","sourcesContent":["export const listkhoavien = [\n  {\n    value: \"KCNTT\",\n    label: \"Viện Công nghệ thông tin & Truyền thông\",\n  },\n  {\n    value: \"KCK\",\n    label: \"Viện Cơ khí\",\n  },\n  {\n    value: \"VCKDL\",\n    label: \"Viện Cơ khí Động lực\",\n  },\n  {\n    value: \"KD\",\n    label: \"Viện Điện - Điện tử\",\n  },\n  {\n    value: \"VCNSHVTP\",\n    label: \"Viên Công nghệ Sinh học & Công nghệ Thực phẩm\",\n  },\n  {\n    value: \"KCNHH\",\n    label: \"Viện Kỹ thuật Hóa học\",\n  },\n  {\n    value: \"BGDTC\",\n    label: \"Khoa Giáo Dục Thể Chất\",\n  },\n  {\n    value: \"VVLKT\",\n    label: \"Viện Vật Lý Kỹ Thuật\",\n  },\n  {\n    value: \"KKHVCNVL\",\n    label: \"Viện Khoa học & Kỹ thuật Vật Liệu\",\n  },\n  {\n    value: \"KKTVQL\",\n    label: \"Viện Kinh tế & Quản lý\",\n  },\n  {\n    value: \"KTTD\",\n    label: \"Viện Toán tin & Ứng dụng\",\n  },\n  {\n    value: \"KSPKT\",\n    label: \"Viện Sư phạm Kỹ thuật\",\n  },\n  {\n    value: \"KNN\",\n    label: \"Khoa Ngôn Ngữ\",\n  },\n  {\n    value: \"KCNDMVTT\",\n    label: \"Viện Dệt may - Da giầy & Thời trang\",\n  },\n  {\n    value: \"KML\",\n    label: \"Khoa Lý luận chính trị\",\n  },\n  {\n    value: \"VDTLT\",\n    label: \"Viện Đào tạo Liên tục\",\n  },\n  {\n    value: \"VMICA\",\n    label: \"Viện Nghiên cứu quốc tế MICA\",\n  },\n  {\n    value: \"KDTVT\",\n    label: \"Viện Điên tử viễn thông\",\n  },\n  {\n    value: \"VKHVCNMT\",\n    label: \"Viện Khoa học và Công nghệ Môi trường\",\n  },\n  {\n    value: \"VKHVCNNL\",\n    label: \"Viện Khoa học & Công Nghệ Nhiệt Lạnh\",\n  },\n  {\n    value: \"KGDQP\",\n    label: \"Khoa Giáo dục Quốc phòng\",\n  },\n];\n","export const schoolyears = [\n  {\n    value: 65,\n    label: \"Khóa 65\",\n  },\n  {\n    value: 64,\n    label: \"Khóa 64\",\n  },\n  {\n    value: 63,\n    label: \"Khóa 63\",\n  },\n  {\n    value: 62,\n    label: \"Khóa 62\",\n  },\n  {\n    value: 61,\n    label: \"Khóa 61 vê trước\",\n  },\n];\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z\"\n}), 'OfflinePin');\n\nexports.default = _default;","export const headerAccount = [\n  { label: \"Id\", key: \"Id\" },\n  { label: \"fullname\", key: \"fullname\" },\n  { label: \"birthday\", key: \"birthday\" },\n  { label: \"cmnd\", key: \"cmnd\" },\n  { label: \"email\", key: \"email\" },\n  { label: \"gender\", key: \"gender\" },\n  { label: \"maxcredit\", key: \"maxcredit\" },\n  { label: \"password\", key: \"password\" },\n  { label: \"phone\", key: \"phone\" },\n  { label: \"program\", key: \"program\" },\n  { label: \"role\", key: \"role\" },\n  { label: \"schoolId\", key: \"schoolId\" },\n  { label: \"schoolyear\", key: \"schoolyear\" },\n  { label: \"status\", key: \"status\" },\n];\n","import { FormOutlined } from \"@ant-design/icons\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { Button, MenuItem, TextField } from \"@material-ui/core\";\r\nimport OfflinePinIcon from \"@mui/icons-material/OfflinePin\";\r\nimport { Empty, Pagination } from \"antd\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nimport * as yup from \"yup\";\r\nimport userApi from \"../../api/userApi\";\r\nimport {\r\n  LIMIT_PAGE_DEFAULT,\r\n  ROLE_DEFAULT,\r\n  SCHOOLYEAR_DEFAULT,\r\n  SCHOOL_ID_DEFAULT\r\n} from \"../../dummydb/dataDefault\";\r\nimport { headerAccount } from \"../../dummydb/headerAccountCsv\";\r\nimport { listkhoavien } from \"../../dummydb/khoavien\";\r\nimport { schoolyears } from \"../../dummydb/schoolyear\";\r\nimport \"../style2.css\";\r\n\r\nfunction Danhsachtaikhoan(props) {\r\n  const [searchLike, setSearchLike] = useState(\"\");\r\n  const [valueSchoolyear, setValueSchoolyear] = useState(SCHOOLYEAR_DEFAULT);\r\n  const [valueSchoolId, setValueSchoolId] = useState(SCHOOL_ID_DEFAULT);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [datas, setDatas] = useState([]);\r\n  const [datasExport, setDatasExport] = useState([]);\r\n\r\n  const [counts, setCounts] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(LIMIT_PAGE_DEFAULT);\r\n  const match = useRouteMatch();\r\n  const csvReport = {\r\n    filename: \"account.csv\",\r\n    headers: headerAccount,\r\n    data: datasExport,\r\n  };\r\n  const handleExport = async () => {\r\n    enqueueSnackbar(\"Success\", {\r\n      variant: \"success\",\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (searchLike === \"\") {\r\n        try {\r\n          const params = {\r\n            schoolyear: valueSchoolyear,\r\n            schoolId: valueSchoolId,\r\n            role: ROLE_DEFAULT,\r\n            limit: 99999999,\r\n            offset: 0,\r\n          };\r\n          const list = await userApi.getFilter(params);\r\n          setDatasExport(list.accounts);\r\n        } catch (error) {\r\n          enqueueSnackbar(\"Error\", {\r\n            variant: \"error\",\r\n          });\r\n        }\r\n      } else {\r\n        const params = {\r\n          Id: searchLike,\r\n          role: ROLE_DEFAULT,\r\n          limit: 99999999,\r\n          offset: 0,\r\n        };\r\n        const list = await userApi.getLikeId(params);\r\n        setDatasExport(list.accounts);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [enqueueSnackbar, searchLike, valueSchoolId, valueSchoolyear]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (searchLike === \"\") {\r\n        try {\r\n          const paramsCount = {\r\n            schoolyear: valueSchoolyear,\r\n            schoolId: valueSchoolId,\r\n            role: ROLE_DEFAULT,\r\n          };\r\n          const params = {\r\n            schoolyear: valueSchoolyear,\r\n            schoolId: valueSchoolId,\r\n            role: ROLE_DEFAULT,\r\n            limit: limit,\r\n            offset: page === 1 ? 0 : (page - 1) * limit,\r\n          };\r\n          const count = await userApi.count(paramsCount);\r\n          setCounts(count);\r\n          const list = await userApi.getFilter(params);\r\n          setDatas(list.accounts);\r\n        } catch (error) {\r\n          enqueueSnackbar(\"Error\", {\r\n            variant: \"error\",\r\n          });\r\n        }\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [\r\n    valueSchoolId,\r\n    valueSchoolyear,\r\n    limit,\r\n    page,\r\n    enqueueSnackbar,\r\n    searchLike,\r\n  ]);\r\n  //set page\r\n  useEffect(() => {\r\n    const fectchData = async () => {\r\n      if (searchLike !== \"\") {\r\n        const params = {\r\n          Id: searchLike,\r\n          role: ROLE_DEFAULT,\r\n          limit: limit,\r\n          offset: page === 1 ? 0 : (page - 1) * limit,\r\n        };\r\n        const list = await userApi.getLikeId(params);\r\n        setDatas(list.accounts);\r\n      }\r\n    };\r\n    fectchData();\r\n  }, [limit, page, enqueueSnackbar, searchLike]);\r\n  const handleChangeSchoolyear = (event) => {\r\n    setValueSchoolyear(event.target.value);\r\n  };\r\n  const handleChangeSchoolId = (event) => {\r\n    setValueSchoolId(event.target.value);\r\n  };\r\n  const handleChangePageAndPageSize = (page, limit) => {\r\n    setPage(page);\r\n    setLimit(limit);\r\n  };\r\n  const schema = yup.object().shape({});\r\n  const form = useForm({\r\n    defaultValues: {\r\n      Id: \"\",\r\n    },\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const { register, handleSubmit } = form;\r\n  const handleOnSubmit = async (value) => {\r\n    const params = {\r\n      Id: value.Id,\r\n      role: ROLE_DEFAULT,\r\n      limit: limit,\r\n      offset: page === 1 ? 0 : (page - 1) * limit,\r\n    };\r\n    const paramsCount = {\r\n      Id: value.Id,\r\n      role: ROLE_DEFAULT,\r\n    };\r\n    const count = await userApi.countLikeId(paramsCount);\r\n    setCounts(count);\r\n    const list = await userApi.getLikeId(params);\r\n    setDatas(list.accounts);\r\n    setSearchLike(value.Id);\r\n    setPage(1);\r\n  };\r\n  const handleResetSearch = () => {\r\n    setSearchLike(\"\");\r\n    window.location.reload();\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"quanlysinhvien-content\">\r\n        <div>\r\n          <div className=\"filter-school\">\r\n            <div className=\"filter-school-left\">\r\n              <TextField\r\n                name=\"schoolyear\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                select\r\n                value={valueSchoolyear}\r\n                onChange={handleChangeSchoolyear}\r\n              >\r\n                {schoolyears.map((option) => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </div>\r\n            <div className=\"filter-school-right\">\r\n              <TextField\r\n                name=\"schoolId\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                select\r\n                value={valueSchoolId}\r\n                onChange={handleChangeSchoolId}\r\n              >\r\n                {listkhoavien.map((option) => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </div>\r\n            <div className=\"filter-school-right2\">\r\n              <form onSubmit={handleSubmit(handleOnSubmit)}>\r\n                <TextField\r\n                  {...register(\"Id\")}\r\n                  autoFocus\r\n                  id=\"outlined-input\"\r\n                  label=\"Mã sinh viên\"\r\n                  type=\"text\"\r\n                  style={{ width: \"160px\", marginLeft: \"100px\" }}\r\n                />\r\n                {searchLike !== \"\" && (\r\n                  <Button\r\n                    style={{\r\n                      width: \"140px\",\r\n                      marginTop: \"12px\",\r\n                      marginLeft: \"20px\",\r\n                      fontWeight: \"400\",\r\n                      background: \"rgb(235, 43, 43)\",\r\n                      color: \"white\",\r\n                    }}\r\n                    variant=\"contained\"\r\n                    onClick={handleResetSearch}\r\n                  >\r\n                    Reset\r\n                  </Button>\r\n                )}\r\n                {searchLike === \"\" && (\r\n                  <Button\r\n                    style={{\r\n                      width: \"140px\",\r\n                      marginTop: \"12px\",\r\n                      marginLeft: \"20px\",\r\n                      fontWeight: \"400\",\r\n                      background: \"rgb(235, 43, 43)\",\r\n                      color: \"white\",\r\n                    }}\r\n                    variant=\"contained\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Tìm kiếm\r\n                  </Button>\r\n                )}\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        {searchLike === \"\" && counts !== 0 && (\r\n          <div style={{ display: \"flex\", margin: \"12px\", color: \"blue\" }}>\r\n            <div>\r\n              <OfflinePinIcon />\r\n            </div>\r\n            <div>Tìm thấy {counts} kết quả chính xác</div>\r\n          </div>\r\n        )}\r\n        {searchLike !== \"\" && counts !== 0 && (\r\n          <div style={{ display: \"flex\", margin: \"12px\", color: \"blue\" }}>\r\n            <div>\r\n              <OfflinePinIcon />\r\n            </div>\r\n            <div>Tìm thấy {counts} kết quả gần đúng</div>\r\n          </div>\r\n        )}\r\n        <div className=\"table-dangki\">\r\n          <table style={{ width: \"100%\", padding: \"10px\" }}>\r\n            {datas.length > 0 && (\r\n              <tr>\r\n                <th>Mã sinh viên</th>\r\n                <th>Họ và tên</th>\r\n                <th>Email</th>\r\n                <th>Trạng thái tài khoản</th>\r\n                <th>Chi tiết</th>\r\n              </tr>\r\n            )}\r\n            {datas &&\r\n              datas.map((data, index) => (\r\n                <tr>\r\n                  <td>{data.Id}</td>\r\n                  <td>{data.fullname}</td>\r\n                  <td>{data.email}</td>\r\n                  <td>\r\n                    {data.status === 1 ? \"Đang hoạt động\" : \"Không hoạt động\"}\r\n                  </td>\r\n                  <td className=\"chitiet\">\r\n                    <Link to={`${match.url}/${data.Id}`}>\r\n                      <FormOutlined />\r\n                    </Link>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            {datas.length === 0 && (\r\n              <Empty\r\n                style={{\r\n                  color: \"red\",\r\n                  fontWeight: \"600\",\r\n                  fontStyle: \"italic\",\r\n                  fontSize: \"13px\",\r\n                }}\r\n                description=\"(Empty)\"\r\n                image=\"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\"\r\n              />\r\n            )}\r\n          </table>\r\n        </div>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        {datas.length > 0 && (\r\n          <Pagination\r\n            pageSize={limit}\r\n            total={counts}\r\n            page={page}\r\n            onChange={handleChangePageAndPageSize}\r\n            pageSizeOptions={[5, 10, 15, 20]}\r\n            style={{ float: \"right\", marginRight: \"15px\" }}\r\n          />\r\n        )}\r\n      </div>\r\n      {datas.length > 0 && (\r\n        <CSVLink {...csvReport}>\r\n          <Button\r\n            style={{\r\n              width: \"200px\",\r\n              marginLeft: \"10px\",\r\n              fontWeight: \"400\",\r\n              background: \"rgb(235, 43, 43)\",\r\n              color: \"white\",\r\n            }}\r\n            variant=\"contained\"\r\n            onClick={handleExport}\r\n          >\r\n            Export file excel\r\n          </Button>\r\n        </CSVLink>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Danhsachtaikhoan;\r\n"],"sourceRoot":""}