{"version":3,"sources":["dummydb/headerListStudentcsv.js","component/quanlylophoc/chitietlophoc.jsx"],"names":["headerStudent","label","key","Chitietlophoc","semesterDk","classId","useParams","useState","classOne","setClassOne","subjectIds","setSubjectIds","semesters","setSemesters","valueSubjectId","setValueSubjectId","valueSemester","setValueSemester","enqueueSnackbar","useSnackbar","schema","yup","shape","subjectId","required","min","day","timeStart","timeEnd","semester","limit","location","form","useForm","defaultValues","status","STATUS_DEFAULT","resolver","yupResolver","register","handleSubmit","setValue","errors","formState","useEffect","setClasss","a","registered","fetchSubject","classApi","get","list","handleOnSubmit","value","params","update","variant","response","data","detail","handleSubjectId","getAllSubjectId","getAllSemester","list1","handleBlock","lock","window","reload","handleUnBlock","unlock","className","onSubmit","style","opacity","width","name","margin","fullWidth","select","onChange","event","target","map","option","color","fontSize","textAlign","newValue","options","renderInput","placeholder","type","disabled","marginTop","marginLeft","fontWeight","background","float","marginRight","onClick","Chitietlopdangki","datas","setDatas","datasExport","setDatasExport","counts","setCounts","page","setPage","setLimit","csvReport","filename","headers","fetchData","offset","getAllStudenByClassId","paramsCount","countAllStudenByClassId","count","length","padding","index","Id","fullname","schoolId","pageSize","total","pageSizeOptions","fontStyle","description","image"],"mappings":"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","file":"static/js/16.b63f1e1b.chunk.js","sourcesContent":["export const headerStudent = [\n    { label: \"Id\", key: \"Id\" },\n    { label: \"fullname\", key: \"fullname\" },\n    { label: \"schoolId\", key: \"schoolId\" },\n  ];\n  ","import { ErrorMessage } from \"@hookform/error-message\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { Button, MenuItem, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@mui/material/Autocomplete\";\r\nimport { Empty, Pagination } from \"antd\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport * as yup from \"yup\";\r\nimport classApi from \"../../api/classApi\";\r\nimport { STATUS_DEFAULT } from \"../../dummydb/dataDefault\";\r\nimport { headerStudent } from \"../../dummydb/headerListStudentcsv\";\r\nimport \"../style2.css\";\r\nimport \"../style3.css\";\r\n\r\nfunction Chitietlophoc({ semesterDk }) {\r\n  const { classId } = useParams();\r\n  const [classOne, setClassOne] = useState(\"\");\r\n  const [subjectIds, setSubjectIds] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n\r\n  const [valueSubjectId, setValueSubjectId] = useState(\"\");\r\n  const [valueSemester, setValueSemester] = useState(20201);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const schema = yup.object().shape({\r\n    subjectId: yup.string().required(\"please enter your subjectId\"),\r\n    classId: yup.number().min(1, \"Please enter at least 1 \"),\r\n    day: yup.number().min(1, \"Please enter at least 1 \"),\r\n    timeStart: yup.number().min(1, \"Please enter at least 1 \"),\r\n    timeEnd: yup.number().min(1, \"Please enter at least 1 \"),\r\n    semester: yup.number().min(1, \"Please enter at least 1 \"),\r\n    limit: yup.number().min(1, \"Please enter at least 1 \"),\r\n    location: yup.string().required(\"please enter your location\"),\r\n  });\r\n  const form = useForm({\r\n    defaultValues: {\r\n      subjectId: \"\",\r\n      classId: 0,\r\n      day: 2,\r\n      timeStart: 0,\r\n      timeEnd: 0,\r\n      status: STATUS_DEFAULT,\r\n      semester: 20201,\r\n      location: \"\",\r\n      limit: 200,\r\n    },\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors },\r\n  } = form;\r\n  useEffect(() => {\r\n    const setClasss = async () => {\r\n      setValue(\"subjectId\", classOne.subjectId);\r\n      setValueSubjectId(classOne.subjectId);\r\n      setValue(\"classId\", classOne.classId);\r\n      setValue(\"day\", classOne.day);\r\n      setValue(\"timeStart\", classOne.timeStart);\r\n      setValue(\"timeEnd\", classOne.timeEnd);\r\n      setValue(\"semester\", classOne.semester);\r\n      setValueSemester(classOne.semester);\r\n      setValue(\"location\", classOne.location);\r\n      setValue(\"limit\", classOne.limit);\r\n      setValue(\"registered\", classOne.registered);\r\n    };\r\n    setClasss();\r\n  }, [setValue, classOne]);\r\n\r\n  useEffect(() => {\r\n    const fetchSubject = async () => {\r\n      const list = await classApi.get(classId);\r\n      setClassOne(list[0]);\r\n    };\r\n    fetchSubject();\r\n  }, [classId]);\r\n  const handleOnSubmit = async (value) => {\r\n    try {\r\n      const params = {\r\n        classId: classId,\r\n      };\r\n      await classApi.update(value, params);\r\n      enqueueSnackbar(\"Success\", {\r\n        variant: \"success\",\r\n      });\r\n    } catch (error) {\r\n      enqueueSnackbar(error.response.data.detail, {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const handleSubjectId = async () => {\r\n      try {\r\n        const params = {\r\n          status: 1,\r\n        };\r\n        const list = await classApi.getAllSubjectId(params);\r\n        const list1 = await classApi.getAllSemester();\r\n        setSubjectIds(list);\r\n        setSemesters(list1);\r\n      } catch (error) {\r\n        enqueueSnackbar(\"Error\", {\r\n          variant: \"error\",\r\n        });\r\n      }\r\n    };\r\n    handleSubjectId();\r\n  }, [enqueueSnackbar]);\r\n  const handleBlock = async () => {\r\n    try {\r\n      await classApi.lock(classId);\r\n      window.location.reload();\r\n      enqueueSnackbar(\"Success\", {\r\n        variant: \"success\",\r\n      });\r\n    } catch (error) {\r\n      enqueueSnackbar(\"Error\", {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n  const handleUnBlock = async () => {\r\n    try {\r\n      await classApi.unlock(classId);\r\n      window.location.reload();\r\n      enqueueSnackbar(\"Success\", {\r\n        variant: \"success\",\r\n      });\r\n    } catch (error) {\r\n      enqueueSnackbar(\"Error\", {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n  const handleChangeSubjectId = (event, newValue) => {\r\n    setValueSubjectId(newValue);\r\n  };\r\n  const handleChangeSemester = (event) => {\r\n    setValueSemester(event.target.value);\r\n  };\r\n  return (\r\n    <div className=\"thongtincanhan\">\r\n      <p className=\"thongtincanhan-title\">1. Thông tin lớp học</p>\r\n      <div className=\"quanlysinhvien-content\">\r\n        <form onSubmit={handleSubmit(handleOnSubmit)}>\r\n          <hr style={{ opacity: \"0.3\", width: \"100%\" }} />\r\n          <br />\r\n          {/* Kì học */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Kì học :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"semester\")}\r\n                name=\"semester\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                select\r\n                value={valueSemester}\r\n                onChange={handleChangeSemester}\r\n              >\r\n                {semesters.map((option) => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"semester\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* subjectId */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Mã học phần :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <Autocomplete\r\n                value={valueSubjectId}\r\n                onChange={handleChangeSubjectId}\r\n                options={subjectIds}\r\n                variant=\"standart\"\r\n                fullWidth\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    {...register(\"subjectId\")}\r\n                    variant=\"outlined\"\r\n                    placeholder=\"Chưa cập nhật\"\r\n                  />\r\n                )}\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"subjectId\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* Mã lớp học */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Mã lớp học :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"classId\")}\r\n                name=\"classId\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                type=\"number\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"classId\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* Ngày*/}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Thứ :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"day\")}\r\n                name=\"day\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n                type=\"number\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"day\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bắt đầu */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Tiết bắt đầu :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"timeStart\")}\r\n                name=\"timeStart\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n                type=\"number\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"timeStart\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* Kết thúc */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Tiết kết thúc :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"timeEnd\")}\r\n                name=\"timeEnd\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n                type=\"number\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"timeEnd\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* Giới hạn */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">\r\n              Số lượng tối đa :\r\n            </div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"limit\")}\r\n                name=\"limit\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n                type=\"number\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"limit\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/*registered */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">\r\n              Số lượng đã đăng kí :\r\n            </div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"registered\")}\r\n                name=\"registered\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n                type=\"number\"\r\n                disabled\r\n              />\r\n              <p\r\n                style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}\r\n              ></p>\r\n            </div>\r\n          </div>\r\n          {/*location  */}\r\n          <div className=\"thongtincanhan-contents\">\r\n            <div className=\"thongtincanhan-contents-label\">Phòng học :</div>\r\n            <div className=\"thongtincanhan-contents-input\">\r\n              <TextField\r\n                {...register(\"location\")}\r\n                name=\"location\"\r\n                className=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                fullWidth\r\n                placeholder=\"Chưa cập nhật\"\r\n              />\r\n              <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n                <ErrorMessage errors={errors} name=\"location\" />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <div className=\"thongtincanhan-contents\">\r\n            <Button\r\n              style={{\r\n                width: \"250px\",\r\n                marginTop: \"40px\",\r\n                marginLeft: \"0px\",\r\n                fontWeight: \"400\",\r\n                background: \"rgb(235, 43, 43)\",\r\n                color: \"white\",\r\n              }}\r\n              variant=\"contained\"\r\n              type=\"submit\"\r\n            >\r\n              Cập nhật học phần\r\n            </Button>\r\n          </div>\r\n        </form>\r\n        {classOne.status === 1 && (\r\n          <Button\r\n            style={{\r\n              width: \"250px\",\r\n              float: \"right\",\r\n              marginTop: \"-35px\",\r\n              marginRight: \"12px\",\r\n              fontWeight: \"400\",\r\n              background: \"rgb(235, 43, 43)\",\r\n              color: \"white\",\r\n            }}\r\n            variant=\"contained\"\r\n            onClick={handleBlock}\r\n          >\r\n            Khóa lớp học\r\n          </Button>\r\n        )}\r\n        {classOne.status === 0 && (\r\n          <Button\r\n            style={{\r\n              width: \"250px\",\r\n              float: \"right\",\r\n              marginTop: \"-35px\",\r\n              marginRight: \"12px\",\r\n              fontWeight: \"400\",\r\n              background: \"rgb(235, 43, 43)\",\r\n              color: \"white\",\r\n            }}\r\n            variant=\"contained\"\r\n            onClick={handleUnBlock}\r\n          >\r\n            Mở khóa lớp học\r\n          </Button>\r\n        )}\r\n      </div>\r\n      <br />\r\n      <p className=\"thongtincanhan-title\">2. Danh sách sinh viên đăng kí</p>\r\n      <hr style={{ opacity: \"0.3\", width: \"100%\" }} />\r\n      <br />\r\n      <Chitietlopdangki semesterDk={semesterDk} classId={classId} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chitietlophoc;\r\n\r\nexport const Chitietlopdangki = ({ semesterDk, classId }) => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [datas, setDatas] = useState([]);\r\n  const [datasExport, setDatasExport] = useState([]);\r\n  const [counts, setCounts] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(20);\r\n  const csvReport = {\r\n    filename: \"list_student.csv\",\r\n    headers: headerStudent,\r\n    data: datasExport,\r\n  };\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const params = {\r\n          classId: classId,\r\n          semester: semesterDk,\r\n          limit: 99999,\r\n          offset: 0,\r\n        };\r\n        const list = await classApi.getAllStudenByClassId(params);\r\n        setDatasExport(list);\r\n      } catch (error) {\r\n        enqueueSnackbar(error.response.data.detail, {\r\n          variant: \"error\",\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [limit, page, enqueueSnackbar, classId, semesterDk]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const paramsCount = {\r\n          classId: classId,\r\n          semester: semesterDk,\r\n        };\r\n        const params = {\r\n          classId: classId,\r\n          semester: semesterDk,\r\n          limit: limit,\r\n          offset: page === 1 ? 0 : (page - 1) * limit,\r\n        };\r\n        const count = await classApi.countAllStudenByClassId(paramsCount);\r\n        setCounts(count);\r\n        const list = await classApi.getAllStudenByClassId(params);\r\n        setDatas(list);\r\n      } catch (error) {\r\n        enqueueSnackbar(error.response.data.detail, {\r\n          variant: \"error\",\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [limit, page, enqueueSnackbar, classId, semesterDk]);\r\n  const handleChangePageAndPageSize = (page, limit) => {\r\n    setPage(page);\r\n    setLimit(limit);\r\n  };\r\n  return (\r\n    <div className=\"thongtindangkisv-bottom\">\r\n      {datas.length !== 0 && (\r\n        <div className=\"table-dangki\">\r\n          <table style={{ width: \"100%\", padding: \"10px\" }}>\r\n            <tr>\r\n              <th>STT</th>\r\n              <th>Mã sinh viên</th>\r\n              <th>Họ và tên</th>\r\n              <th>Khoa viện</th>\r\n            </tr>\r\n            {datas.map((data, index) => (\r\n              <tr key={index}>\r\n                <td>{index}</td>\r\n                <td>{data.Id}</td>\r\n                <td>{data.fullname}</td>\r\n                <td>{data.schoolId}</td>\r\n              </tr>\r\n            ))}\r\n          </table>\r\n          <CSVLink {...csvReport}>\r\n            <Button\r\n              style={{\r\n                width: \"200px\",\r\n                marginTop: \"35px\",\r\n                fontWeight: \"400\",\r\n                background: \"rgb(235, 43, 43)\",\r\n                color: \"white\",\r\n              }}\r\n              variant=\"contained\"\r\n            >\r\n              Export file excel\r\n            </Button>\r\n          </CSVLink>\r\n          <Pagination\r\n            pageSize={limit}\r\n            total={counts}\r\n            page={page}\r\n            onChange={handleChangePageAndPageSize}\r\n            pageSizeOptions={[10, 20, 30, 40, 50]}\r\n            style={{ float: \"right\", marginTop: \"40px\" }}\r\n          />\r\n        </div>\r\n      )}\r\n      {datas.length === 0 && (\r\n        <Empty\r\n          style={{\r\n            color: \"red\",\r\n            fontWeight: \"600\",\r\n            fontStyle: \"italic\",\r\n            fontSize: \"13px\",\r\n          }}\r\n          description=\"(Empty)\"\r\n          image=\"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"sourceRoot":""}